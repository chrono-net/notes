# 2019/7月ssmjp参加記録  
時間：2019/07/16 19:30-21:30  
会場：大崎ガーデンタワー　セガサミーホールディングスイベントホール Lighthouse  
  
※会場でとったメモになります、誤っている可能性がありますのでご容赦ください  

----  
## 19:30-19:40 	@tigerszkさん 	前枠/会場諸注意  
運用メインの勉強会です  
関係のないLTもやったりします  
ssmでささみと呼んでる方が多い  
shinbashi study meetingの略です  
「アウトプットしないのは知的な便秘」がテーマです  
基本的にはプレゼン形式です  
普段は６０～８０人です  
たまにスペシャル会もやってます  
特徴：超ゆる～いです  
    
----  
## 19:40-20:00 	@niratamaさん 	(タイトル未定)→プチコン４でスライド作ってみた  
* プチコン４発売されました  
    Switchでプログラミングできるようになった→スライドできないか  
* プチコンとは  
    Switchで開発できるソフト  
    BASIC採用している  
* BASICとは、教育用として開発された初心者向けのプログラミング言語  
    FORTRANから影響を受けている  
    8ビットパソコン全盛のこと標準搭載が多かったため主流だった  
* プチコン４でできること  
    簡単なコマンドでグラフィック表示できる  
    スプライトという機能でたくさんの動く画像を簡単に処理することができる  
    スプライトで拡大縮小回転すつこともできる  
    サウンドやSEはプリセットでたくさん用意されているほか、自作音楽も再生可能  
    音声合成用コマンドでしゃべらせることもできる  
    コントローラ入力にも対応できている  
    LaboのToy-Conを使うこともできる  
* プチコン４でできないこと  
    外部との直接データのやりとりはできない  
    ファイルはSDカードに書き込まれるが編集不可  
    音声入力できない  
* Pro Micro(Arudino互換ボード)を使ってキーボード入力させた  
    Arudino標準ライブラリだと認識されなかった  
    バッファが小さいので取りこぼしがでた  
    プチコン４側受信ツール  
    Deflate展開ツール  
    BASE64デコード、ＵＴＦ－８デコードルーチンを作った  
* 作ってみて  
    文字だけならそんなに苦労しなかった  
    デモとかやるといろいろと作りこまないといけない  
    プチコン４のエディタが使い勝手よかった  
    スライドより転送のためのツール開発とデータ転送のほうが時間がかかったかも    
  
Q:どれくらい時間がかかりましたか？  
A:2週間くらいだったとおもいます  
Q:フォントデータはなにを使ってますか  
A:プチコン４にある標準のフォントを使いました  
  
----  
## 20:00-20:30 	abendさん 	『過去』の脆弱性(未来は変えられる)  
久々にLTします（2018/12のSECCONぶり）  
■■■■■■■ ■■■■■が出るので写真禁止でお願いします  
* 自己研鑽として0dayを発見したいと思い日々研究している  
    もしも、発見したら自分はどうするのだろうか  
    早期警戒パートナーシップに則り、脆弱性対応する  
    知られる前に悪用する→倫理的にアウト  
    アングラで売る→倫理的にアウト  
    一般的には：脆弱性報告する  
* 0day=未知？  
    未知に対する言葉は既知  
    「過去」とは？未知でも既知でもない  
    今のまま過去に戻ったら→既知が未知になる  
* とある男性Johnが過去にT-1000から守るため青年Kyleへ送り込むという設定でこれからLTします  
    ジョンは過去を変えるために自分の父親であるカイルを過去へおくり、  
    Skynet.localが稼働する  ■■■■■■ ■■■■■■ ■■■■■ ■■■へ侵入を試みた  
    ■■08-■■■ ■■17-■■■を試した  
    CVE-2019-■■■■を試してみたがブルースクリーン  
    ■■■■-■■■のPoCを改造して任意のコマンドを実行できるようにした  
    パスワードの使いまわしで使えそうなアカウントを探して横展開を試してみた  
    レジストリにパスワードの■■ハッシュ、■■■■ハッシュがある  
    ■■ハッシュ：■■■■■まで、最長14文字、全て大文字、パスワードを7バイトに分割する  
    ■■ハッシュの解析は容易にでき、2日あればだいたい解析できてしまう  
    ■■■■■■■ ■■■■■以降では使われていない  
    ■■■■■■■ ■■■■■■ ■■■■以前に構築したADで作成したアカウントはLMハッシュも同時に生成される  
    アップグレードしても■■ハッシュは消えません  
    ■■ハッシュはNULLだけども、■■■■ハッシュがあるのはなぜか  
    ■■■■■■■ ■■上のアカウントは残っていた  
    認証情報があるので、RDPができなくても■■■■■の■■■経由でリモートからはいれないか試した、ができない  
    なにをしているのか  
    サーバへの通知、■■■■認証、プロセス間通信の確立、名前付きパイプの作成、■■-RPCの開始、■■■■■■ API,   
    etc,.    
    Serviceオブジェクトを作成してサービスを開始するには監理者権限が必要だった  
    ドメインユーザグループのユーザログインあとに監理者権限に昇格させてSkynetを破壊できました  
    Pass the Hash  
* まとめ  
    セキュリティパッチはあてましょう  
    サポート権限の切れたソフトウェアはリプレイスしましょう  
    業務上どうしようもない場合→少しでもリスクを軽減する  
    ネットワークを一切接続しない、特定のIPやポートのみ通信許可、施錠可能な環境を用意する  
  
Q:転職希望って言えばいいんですか？  
A:おとなのじじょうがあります  
  
----  
## 20:30-20:50 	休憩  
  
----
## 20:50-21:30 	@tcshさん 	運用自動化のエコシステム (運用組織内部編)(40分)  
[当日資料](https://speakerdeck.com/opelab/20190716-ssmjp-operation-verbalize)   
7/22 JAWS-UG  
7/24 JANOG 44  
7/30 JAWS イベント  
* 経営層と運用委員の接続がなかなかできてない  
* 理想をかかげないと現実とのギャップを知ることができない  
* 今日のお題  
    おさらい：運用自動化の３つの基本原則  
    引継ぎの原則：設計及び実装内容を引き継ぐことを前提に行う  
    平易化の原則：複雑な業務と平易な業務にわける、平易化した領域のみ行う  
    論理性の原則：論理矛盾と忖度の余地の排除し、論理的整合性を確保できた領域のみ  
* 原則論と現実  
    理想と現実が異なる場合：現実を変えよう  
    運用現場にとって最適な運用自動化の実現  
    変化に強くスケール及び持続可能な運用自動化  
    →理想や原則に適合する環境が必要  
  
* 運用エコシステムの全体像
    運用業務の影響範囲全体を生態系と捉える  
    多数のステークホルダがお互いに影響しあっている  
    運用現場全体ではいろいろやっても効果は限定的  
  
* 公式サービスと非公式サービスの運用価値には大きな落差がある  
    公式サービス：経営層や他組織の期待・評価が明確にできる  
    非公式サービス：運用は忙しそうにしているけどなにをしているかわからない  
* 公式サービスが運用組織の運用価値の実体  
* 非公式サービスも無価値ではないが評価されにくい  
  
* 運用エコシステムの内部要素  
    運用業務をすべて言語化してその論理性を検証するには  
    運用業務をすべて言語化する→今回はこっち  
    運用業務の論理性を検証する  
  
* 運用業務を言語化するために。。。  
    運用業務の範囲を明確化する  
    言語化対象の業務を明確にする  
    コンテキストを揃える  
  
* 公式サービス：言語化できる  
* 非公式サービス：言語化できない（しづらい）  
  
* 公式サービスが運用業務の対象範囲である
  
* サービスカタログが言語化の最大範囲、これ以外は範囲外になる  
* 平易化できたものが言語化できるものとしてとらえる  
  
* コンテキストを揃える  
    運用組織の文化レベル、要員のレベルによって平易さは異なる
    博士レベルの平易（SRE)  
    ハイレベルエンジニアの  
    ミドル、ジュニアレベル  
    アルバイトレベルの平易←誰にでもできることを重視しがち：無限の工数がかかり低品質になりがち  
  
* 平易の基準を決めてコンテキストを揃える  
    自動化における平易基準はToBeに置く  
    並行して学習により現場の平易基準をToBeに引き上げる  
    エンジニアは専門職である→誰でもできるを捨てる  
  
* ミドルレベル（高度情報）をToBe、ジュニアレベル（応用情報）をAsISとして定義する  
    大事なことは現在の運用組織のレベルを客観化し、そのレベルにおける平易を明確にすること  
    ハイレベルは社内認定技術者  
  
* 人間の習熟による生産性の向上を忘れてはいけない←大事  
* SPHINXの構造化ドキュメント化による手順書はおおきなたすけになるかも？  
  
* 運用業務の範囲を明確化する  
    言語化対象の業務を明確にする  
    コンテキストを揃える  
  
Q:利権の意味は？  
A:非公式サービスの場合依頼できない場合があることがあると思いますが、公式化すると依頼できることがある、  
頼める人は利権があって、頼めない人には利権がない  
  
A:スコープできるとこを定めて、取捨選択と優先順位を定めて言語化してみると運用を公式化できると  
思います  
  
Q:マークダウンは運用自動化に向いていないのはどうしてか  
A:マークダウンは構造化できていないことが多いため（ディストラクチャテキスト）  
構造化ドキュメントで資料生成したほうが運用自動化の基本原則に則った結果になる  
  
  
  ---  
## 感想：  
* #1について  
    なつかしいFamily BasicのSwitch版です。  
    むかし、これに似た言語で書いたことがありましたが、ほんの少し動画でキャラを動かす  
    コードを書いただけで結構時間がかかった覚えがあります。  
    LT分を全部書こうとして、更にキーボード入力に対応するようにしたのはすごいなあと。  
  
* #2について
    久々のLTということでしたが、いつも興味深く聞いています。  
    わたしもどDC管理をすることもあり「あー、こういうところを突かれやすいんだなあ」と、
    勉強になりました。  
    未登録セキスペですが、脆弱性診断での実施内容は、実際の攻撃を受ける可能性でもあるので、  
    守るために知っておいてよかったと思いました。
  
* #3について  
    まさか感想読まれているとは・・・、というのは冗談です。  
    今回、平易化できたものだけ、言語化対象の明確化、基準を定めてコンテキスト化する、に  
    ついて、いくつか思い出したことがありました。  
    そのひとつが全く別の場で、「業務内容をコード化するために、言語化する際の注意として、
    なるべく肯定文で書くようにしたほうがコード化しやすい」ということでした、    
    理由は、否定文で書くと条件式のネストが深くなって複雑になりやすいということで。  
    このあたりはなにかつながりがあるのかなあ、と気になったのでした。  
    ふたつめはコンテキストの基準についてです、これもよく言われるのが「万人がわかるように
    手順書を書くべし」ということを聞いたことがあったためでした。  
    だた、これに関しては、個人的にも知識や技能がないと業務遂行はできないし、万人ではなく  
    やっぱり対象決めないとできないなあ、と思ってはいます。(思ってはいるんですが)  
  
<会場風景>  

![result](https://github.com/chrono-net/media/blob/20180830/20190716-1.png)  
![result](https://github.com/chrono-net/media/blob/20180830/20190716-2.png)  
